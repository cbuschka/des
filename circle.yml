machine:
  python:
    version: 3.5.1

dependencies:
  override:
    - pip3 install coverage
    - python3 setup.py clean
    - python3 setup.py build 

test:
  override:
    - python3 setup.py test
  post:
    - coverage3 run ./setup.py test
    - coverage3 xml; cp build/coverage.xml $CIRCLE_ARTIFACTS/
    - bash <(curl -s https://codecov.io/bash)
